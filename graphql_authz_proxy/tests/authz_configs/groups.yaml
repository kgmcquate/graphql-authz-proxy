groups:
  - name: "admin"
    description: "Full administrative access"
    permissions:
      mutations:
        - operation_name: "*"  # Allow all mutations
      queries:
        - operation_name: "*"  # Allow all queries

  - name: "data-engineers"
    description: "Data engineering team with limited mutation access"
    permissions:
      mutations:
        - operation_name: "launchPipelineExecution"
          parameter_restrictions:
            - jsonpath: "executionParams.selector.repositoryLocationName"
              allowed_values:
                - "k8s-example-user-code-1"
                - "k8s-example-user-code-2"
                - "production-data-pipelines"
            - jsonpath: "executionParams.mode"
              allowed_values:
                - "default"
                - "development"
            - jsonpath: "executionParams.executionMetadata.tags[*].key"
              allowed_values:
                - "dagster/from_ui"
                - "environment"
                - "team"
            - jsonpath: "executionParams.selector.pipelineName"
              allowed_values:
                - "data_ingestion_pipeline"
                - "daily_reports_pipeline"
                - "feature_engineering_pipeline"
        - operation_name: "launchRun"
        - operation_name: "launchPipelineReexecution"
        - operation_name: "logTelemetry"
      queries:
        - operation_name: "*"  # Allow all queries

  - name: "viewers"
    description: "Read-only access"
    permissions:
      mutations: []  # No mutations allowed
      queries:
        - operation_name: "*" # All queries allowed
